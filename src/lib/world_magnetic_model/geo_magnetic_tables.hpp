/****************************************************************************
 *
 *   Copyright (c) 2020-2024 PX4 Development Team. All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in
 *    the documentation and/or other materials provided with the
 *    distribution.
 * 3. Neither the name PX4 nor the names of its contributors may be
 *    used to endorse or promote products derived from this software
 *    without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
 * FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS
 * OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
 * ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 *
 ****************************************************************************/

#include <stdint.h>

static constexpr float SAMPLING_RES = 10;
static constexpr float SAMPLING_MIN_LAT = -90;
static constexpr float SAMPLING_MAX_LAT = 90;
static constexpr float SAMPLING_MIN_LON = -180;
static constexpr float SAMPLING_MAX_LON = 180;

static constexpr int LAT_DIM = 19;
static constexpr int LON_DIM = 37;


// *INDENT-OFF*



// Magnetic declination data in 183.4 degrees
// Model: WMM-2020,
// Version: 0.5.1.11,
// Date: 2024.37432,
static constexpr const int16_t declination_table[19][37] {
	//    LONGITUDE:   -180,  -170,  -160,  -150,  -140,  -130,  -120,  -110,  -100,   -90,   -80,   -70,   -60,   -50,   -40,   -30,   -20,   -10,     0,    10,    20,    30,    40,    50,    60,    70,    80,    90,   100,   110,   120,   130,   140,   150,   160,   170,   180,
	/* LAT: -90 */ {  27264, 25430, 23595, 21761, 19927, 18092, 16258, 14424, 12589, 10755,  8921,  7086,  5252,  3418,  1584,  -251, -2085, -3919, -5754, -7588, -9422,-11257,-13091,-14925,-16760,-18594,-20428,-22263,-24097,-25931,-27766,-29600,-31434, 32767, 30933, 29098, 27264, },
	/* LAT: -80 */ {  23650, 21416, 19382, 17521, 15800, 14185, 12648, 11165,  9721,  8303,  6904,  5519,  4143,  2772,  1397,     9, -1402, -2847, -4332, -5862, -7436, -9055,-10716,-12421,-14173,-15982,-17862,-19833,-21920,-24149,-26542,-29102,-31801, 31465, 28719, 26092, 23650, },
	/* LAT: -70 */ {  15754, 14282, 13093, 12077, 11159, 10281,  9392,  8457,  7454,  6381,  5257,  4109,  2971,  1866,   794,  -267, -1359, -2526, -3796, -5171, -6631, -8140, -9667,-11186,-12688,-14179,-15684,-17251,-18967,-20994,-23671,-27703, 32112, 25304, 20616, 17719, 15754, }, // WARNING! black out zone
	/* LAT: -60 */ {   8901,  8633,  8327,  8030,  7755,  7481,  7150,  6689,  6038,  5171,  4117,  2948,  1776,   704,  -211,  -999, -1763, -2635, -3705, -4981, -6395, -7845, -9238,-10512,-11629,-12570,-13319,-13837,-14018,-13547,-11321, -3527,  5348,  8164,  8941,  9055,  8901, }, // WARNING! black out zone
	/* LAT: -50 */ {   5805,  5838,  5773,  5671,  5586,  5541,  5499,  5359,  4992,  4287,  3217,  1876,   471,  -754, -1647, -2218, -2624, -3092, -3836, -4934, -6268, -7626, -8828, -9770,-10386,-10622,-10400, -9587, -7987, -5492, -2431,   459,  2678,  4177,  5096,  5593,  5805, },
	/* LAT: -40 */ {   4185,  4281,  4283,  4229,  4159,  4118,  4119,  4103,  3915,  3343,  2254,   729,  -911, -2273, -3151, -3598, -3768, -3820, -4017, -4665, -5739, -6890, -7815, -8364, -8452, -8028, -7069, -5604, -3811, -2034,  -509,   772,  1872,  2789,  3485,  3941,  4185, },
	/* LAT: -30 */ {   3160,  3250,  3275,  3251,  3182,  3094,  3026,  2988,  2851,  2337,  1230,  -382, -2068, -3363, -4110, -4446, -4504, -4253, -3792, -3609, -4058, -4872, -5596, -5937, -5777, -5133, -4109, -2845, -1594,  -619,    83,   711,  1372,  2015,  2560,  2947,  3160, },
	/* LAT: -20 */ {   2485,  2531,  2542,  2534,  2481,  2375,  2256,  2173,  2018,  1487,   355, -1227, -2775, -3864, -4390, -4482, -4241, -3625, -2708, -1903, -1669, -2081, -2767, -3240, -3254, -2857, -2180, -1329,  -532,   -35,   229,   543,  1013,  1529,  1985,  2318,  2485, },
	/* LAT: -10 */ {   2071,  2063,  2032,  2018,  1980,  1883,  1759,  1658,  1462,   875,  -260, -1718, -3045, -3886, -4129, -3856, -3231, -2399, -1512,  -735,  -275,  -342,  -853, -1379, -1586, -1478, -1143,  -624,  -116,   122,   159,   322,   720,  1197,  1625,  1939,  2071, },
	/* LAT:   0 */ {   1846,  1809,  1742,  1723,  1703,  1621,  1500,  1372,  1103,   445,  -659, -1951, -3043, -3628, -3590, -3036, -2220, -1402,  -725,  -170,   253,   350,    38,  -401,  -658,  -711,  -608,  -338,   -43,    37,   -41,    45,   413,   896,  1353,  1703,  1846, },
	/* LAT:  10 */ {   1698,  1705,  1653,  1662,  1682,  1621,  1481,  1276,   878,   123,  -953, -2079, -2929, -3256, -3012, -2357, -1538,  -797,  -266,   128,   465,   609,   425,    85,  -155,  -268,  -299,  -221,  -121,  -175,  -334,  -311,    15,   509,  1030,  1470,  1698, },
	/* LAT:  20 */ {   1494,  1649,  1708,  1799,  1884,  1855,  1682,  1356,   782,  -116, -1208, -2196, -2803, -2893, -2529, -1886, -1138,  -462,    12,   331,   600,   746,   640,   382,   177,    51,   -55,  -135,  -228,  -436,  -694,  -757,  -503,   -19,   561,  1114,  1494, },
	/* LAT:  30 */ {   1160,  1545,  1816,  2050,  2215,  2221,  2018,  1568,   802,  -274, -1437, -2341, -2756, -2673, -2243, -1630,  -940,  -295,   183,   498,   737,   884,   854,   696,   541,   407,   230,    -7,  -316,  -717, -1108, -1274, -1098,  -642,   -30,   613,  1160, },
	/* LAT:  40 */ {    766,  1380,  1900,  2315,  2577,  2622,  2394,  1832,   877,  -403, -1685, -2574, -2893, -2723, -2249, -1625,  -937,  -279,   251,   628,   907,  1109,  1199,  1183,  1103,   943,   647,   195,  -386, -1030, -1575, -1825, -1695, -1253,  -624,    78,   766, },
	/* LAT:  50 */ {    438,  1219,  1937,  2529,  2920,  3036,  2799,  2117,   929,  -623, -2091, -3031, -3328, -3122, -2606, -1927, -1181,  -451,   192,   718,  1152,  1518,  1804,  1976,  1991,  1784,  1297,   528,  -429, -1380, -2084, -2373, -2234, -1771, -1112,  -355,   438, },
	/* LAT:  60 */ {    200,  1089,  1937,  2676,  3217,  3454,  3243,  2412,   855, -1159, -2928, -3944, -4208, -3938, -3341, -2562, -1698,  -819,    25,   810,  1533,  2189,  2752,  3159,  3314,  3098,  2397,  1191,  -316, -1698, -2592, -2902, -2724, -2213, -1501,  -678,   200, },
	/* LAT:  70 */ {   -108,   866,  1806,  2651,  3308,  3636,  3407,  2285,    56, -2682, -4705, -5593, -5631, -5146, -4354, -3386, -2319, -1207,   -85,  1024,  2096,  3106,  4012,  4747,  5203,  5213,  4533,  2928,   577, -1641, -2986, -3440, -3274, -2728, -1959, -1065,  -108, }, // WARNING! black out zone
	/* LAT:  80 */ {  -1047,   -83,   808,  1534,  1952,  1817,   734, -1636, -4665, -6854, -7742, -7706, -7121, -6210, -5101, -3869, -2558, -1201,   180,  1568,  2944,  4289,  5578,  6775,  7825,  8626,  8984,  8483,  6313,  2033, -1900, -3667, -4001, -3628, -2907, -2012, -1047, }, // WARNING! black out zone
	/* LAT:  90 */ { -30622,-28787,-26953,-25119,-23284,-21450,-19616,-17781,-15947,-14113,-12278,-10444, -8610, -6775, -4941, -3107, -1273,   562,  2396,  4230,  6065,  7899,  9733, 11568, 13402, 15236, 17071, 18905, 20739, 22574, 24408, 26242, 28077, 29911, 31745,-32456,-30622, }, // WARNING! black out zone
};
static constexpr float WMM_DECLINATION_SCALE_TO_DEGREES = 0.00545160253f;
static constexpr float WMM_DECLINATION_MIN_DEGREES = -176.9f; // latitude: 90, longitude: 170
static constexpr float WMM_DECLINATION_MAX_DEGREES = 178.6f; // latitude: -90, longitude: 150


// Magnetic inclination data in 370.5 degrees
// Model: WMM-2020,
// Version: 0.5.1.11,
// Date: 2024.37432,
static constexpr const int16_t inclination_table[19][37] {
	//    LONGITUDE:   -180,  -170,  -160,  -150,  -140,  -130,  -120,  -110,  -100,   -90,   -80,   -70,   -60,   -50,   -40,   -30,   -20,   -10,     0,    10,    20,    30,    40,    50,    60,    70,    80,    90,   100,   110,   120,   130,   140,   150,   160,   170,   180,
	/* LAT: -90 */ { -26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664,-26664, },
	/* LAT: -80 */ { -28960,-28676,-28335,-27952,-27541,-27114,-26683,-26259,-25855,-25483,-25151,-24867,-24634,-24451,-24316,-24227,-24184,-24189,-24246,-24362,-24540,-24784,-25093,-25463,-25885,-26347,-26834,-27329,-27812,-28263,-28657,-28974,-29192,-29298,-29288,-29171,-28960, },
	/* LAT: -70 */ { -29908,-29231,-28553,-27868,-27165,-26437,-25686,-24931,-24206,-23556,-23024,-22639,-22404,-22293,-22262,-22264,-22272,-22286,-22331,-22448,-22679,-23054,-23583,-24257,-25054,-25945,-26899,-27885,-28875,-29834,-30718,-31442,-31830,-31706,-31212,-30579,-29908, }, // WARNING! black out zone
	/* LAT: -60 */ { -28676,-27923,-27203,-26496,-25767,-24978,-24098,-23136,-22147,-21241,-20551,-20191,-20196,-20492,-20922,-21317,-21564,-21636,-21593,-21555,-21658,-22007,-22636,-23518,-24588,-25775,-27023,-28290,-29540,-30732,-31788,-32398,-32005,-31179,-30311,-29472,-28676, }, // WARNING! black out zone
	/* LAT: -50 */ { -26519,-25788,-25082,-24396,-23709,-22974,-22128,-21130,-20010,-18914,-18103,-17861,-18312,-19303,-20496,-21562,-22294,-22602,-22504,-22159,-21858,-21890,-22388,-23298,-24465,-25730,-26973,-28111,-29052,-29680,-29905,-29747,-29313,-28709,-28009,-27266,-26519, },
	/* LAT: -40 */ { -23859,-23112,-22368,-21632,-20912,-20196,-19434,-18536,-17435,-16246,-15366,-15319,-16338,-18107,-20059,-21799,-23167,-24048,-24290,-23885,-23138,-22580,-22606,-23240,-24241,-25316,-26251,-26918,-27244,-27251,-27062,-26776,-26401,-25910,-25301,-24601,-23859, },
	/* LAT: -30 */ { -20387,-19568,-18751,-17918,-17086,-16294,-15545,-14724,-13641,-12351,-11423,-11664,-13367,-15952,-18601,-20900,-22809,-24275,-25061,-24973,-24138,-23059,-22386,-22426,-22983,-23667,-24196,-24415,-24270,-23897,-23537,-23265,-22968,-22536,-21939,-21200,-20387, },
	/* LAT: -20 */ { -15656,-14695,-13790,-12873,-11931,-11024,-10207, -9347, -8156, -6711, -5802, -6446, -8899,-12367,-15810,-18671,-20883,-22478,-23347,-23356,-22532,-21205,-20035,-19552,-19678,-20027,-20314,-20332,-19955,-19381,-18986,-18829,-18633,-18206,-17534,-16649,-15656, },
	/* LAT: -10 */ {  -9385, -8210, -7219, -6280, -5308, -4356, -3492, -2555, -1249,   223,   937,   -72, -3000, -7125,-11297,-14640,-16888,-18168,-18675,-18490,-17569,-16079,-14674,-13971,-13906,-14104,-14343,-14379,-13971,-13349,-13046,-13109,-13066,-12626,-11812,-10676, -9385, },
	/* LAT:   0 */ {  -1941,  -573,   446,  1315,  2206,  3088,  3900,  4807,  6012,  7205,  7579,  6438,  3590,  -527, -4848, -8268,-10314,-11151,-11228,-10827, -9844, -8282, -6786, -6024, -5905, -6044, -6300, -6447, -6169, -5678, -5594, -5955, -6144, -5773, -4870, -3513, -1941, },
	/* LAT:  10 */ {   5421,  6791,  7741,  8477,  9235, 10011, 10742, 11531, 12454, 13206, 13237, 12134,  9764,  6390,  2811,   -40, -1664, -2120, -1883, -1355,  -445,   944,  2289,  2988,  3123,  3046,  2842,  2649,  2735,  2943,  2750,  2128,  1666,  1794,  2545,  3844,  5421, },
	/* LAT:  20 */ {  11488, 12637, 13461, 14097, 14765, 15491, 16205, 16917, 17595, 17992, 17773, 16747, 14929, 12577, 10198,  8312,  7247,  7047,  7400,  7937,  8661,  9671, 10650, 11185, 11313, 11295, 11202, 11078, 11043, 10990, 10594,  9848,  9177,  8968,  9336, 10250, 11488, },
	/* LAT:  30 */ {  16064, 16869, 17552, 18157, 18813, 19547, 20295, 21002, 21568, 21787, 21454, 20534, 19181, 17666, 16275, 15215, 14629, 14574, 14900, 15364, 15901, 16550, 17166, 17534, 17661, 17703, 17718, 17696, 17638, 17449, 16958, 16185, 15410, 14932, 14899, 15321, 16064, },
	/* LAT:  40 */ {  19670, 20142, 20688, 21295, 21986, 22747, 23520, 24227, 24747, 24905, 24572, 23797, 22790, 21789, 20960, 20374, 20077, 20089, 20340, 20695, 21077, 21477, 21845, 22110, 22280, 22418, 22543, 22615, 22571, 22323, 21795, 21038, 20247, 19638, 19335, 19364, 19670, },
	/* LAT:  50 */ {  22933, 23188, 23613, 24183, 24864, 25610, 26355, 27017, 27478, 27594, 27292, 26660, 25889, 25163, 24588, 24202, 24017, 24023, 24176, 24404, 24654, 24906, 25156, 25404, 25658, 25924, 26170, 26323, 26295, 26017, 25483, 24780, 24057, 23451, 23049, 22879, 22933, },
	/* LAT:  60 */ {  26155, 26304, 26616, 27073, 27640, 28271, 28907, 29466, 29835, 29892, 29606, 29083, 28475, 27905, 27443, 27118, 26933, 26874, 26915, 27023, 27173, 27359, 27588, 27873, 28215, 28592, 28942, 29169, 29170, 28905, 28421, 27827, 27237, 26737, 26376, 26179, 26155, },
	/* LAT:  70 */ {  29204, 29287, 29481, 29774, 30147, 30573, 31009, 31390, 31614, 31582, 31302, 30884, 30427, 29999, 29634, 29351, 29156, 29043, 29006, 29037, 29130, 29287, 29511, 29804, 30162, 30562, 30952, 31246, 31335, 31173, 30826, 30405, 29993, 29643, 29386, 29238, 29204, }, // WARNING! black out zone
	/* LAT:  80 */ {  31821, 31842, 31915, 32034, 32190, 32364, 32525, 32623, 32599, 32450, 32224, 31969, 31713, 31475, 31266, 31093, 30963, 30878, 30840, 30850, 30908, 31015, 31169, 31368, 31607, 31878, 32167, 32450, 32678, 32767, 32672, 32479, 32271, 32087, 31946, 31856, 31821, }, // WARNING! black out zone
	/* LAT:  90 */ {  32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, 32695, }, // WARNING! black out zone
};
static constexpr float WMM_INCLINATION_SCALE_TO_DEGREES = 0.00269887844f;
static constexpr float WMM_INCLINATION_MIN_DEGREES = -87.4f; // latitude: -60, longitude: 130
static constexpr float WMM_INCLINATION_MAX_DEGREES = 88.4f; // latitude: 80, longitude: 110


// Magnetic totalintensity data in 0.4898 nanoTesla
// Model: WMM-2020,
// Version: 0.5.1.11,
// Date: 2024.37432,
static constexpr const int16_t totalintensity_table[19][37] {
	//    LONGITUDE:   -180,  -170,  -160,  -150,  -140,  -130,  -120,  -110,  -100,   -90,   -80,   -70,   -60,   -50,   -40,   -30,   -20,   -10,     0,    10,    20,    30,    40,    50,    60,    70,    80,    90,   100,   110,   120,   130,   140,   150,   160,   170,   180,
	/* LAT: -90 */ {  26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, 26645, },
	/* LAT: -80 */ {  29616, 29300, 28909, 28454, 27947, 27397, 26817, 26220, 25620, 25034, 24476, 23961, 23504, 23116, 22809, 22593, 22477, 22470, 22579, 22808, 23158, 23622, 24188, 24837, 25543, 26280, 27015, 27717, 28358, 28914, 29366, 29701, 29914, 30005, 29980, 29847, 29616, },
	/* LAT: -70 */ {  30815, 30153, 29408, 28593, 27713, 26767, 25761, 24708, 23637, 22586, 21598, 20708, 19939, 19302, 18796, 18423, 18197, 18140, 18286, 18667, 19303, 20195, 21323, 22642, 24092, 25601, 27089, 28480, 29700, 30696, 31432, 31894, 32091, 32046, 31794, 31372, 30815, }, // WARNING! black out zone
	/* LAT: -60 */ {  30257, 29304, 28307, 27275, 26197, 25043, 23785, 22421, 20991, 19577, 18276, 17169, 16297, 15645, 15163, 14804, 14557, 14460, 14594, 15047, 15888, 17136, 18753, 20655, 22732, 24862, 26924, 28802, 30388, 31598, 32390, 32767, 32767, 32449, 31882, 31132, 30257, }, // WARNING! black out zone
	/* LAT: -50 */ {  28586, 27449, 26303, 25164, 24019, 22815, 21486, 20000, 18391, 16770, 15298, 14133, 13354, 12915, 12678, 12504, 12331, 12197, 12224, 12591, 13465, 14914, 16880, 19205, 21697, 24174, 26495, 28539, 30192, 31367, 32034, 32224, 32006, 31457, 30654, 29674, 28586, },
	/* LAT: -40 */ {  26389, 25176, 23966, 22784, 21630, 20464, 19213, 17820, 16282, 14688, 13232, 12154, 11594, 11477, 11569, 11663, 11672, 11600, 11532, 11681, 12350, 13742, 15827, 18370, 21054, 23613, 25885, 27773, 29195, 30106, 30531, 30536, 30188, 29538, 28642, 27566, 26389, },
	/* LAT: -30 */ {  23876, 22687, 21507, 20351, 19239, 18164, 17089, 15955, 14700, 13350, 12091, 11212, 10886, 11019, 11346, 11688, 11998, 12226, 12314, 12368, 12724, 13749, 15574, 17997, 20609, 23032, 25058, 26586, 27567, 28050, 28176, 28039, 27646, 26992, 26106, 25041, 23876, },
	/* LAT: -20 */ {  21154, 20101, 19069, 18061, 17098, 16202, 15374, 14570, 13694, 12717, 11783, 11142, 10963, 11194, 11639, 12181, 12805, 13413, 13819, 13975, 14107, 14618, 15844, 17764, 19983, 22066, 23748, 24872, 25370, 25402, 25252, 25023, 24621, 23994, 23174, 22204, 21154, },
	/* LAT: -10 */ {  18558, 17760, 17002, 16281, 15616, 15026, 14516, 14059, 13573, 13003, 12404, 11928, 11728, 11873, 12314, 12952, 13711, 14474, 15055, 15340, 15406, 15556, 16199, 17470, 19085, 20661, 21940, 22713, 22869, 22606, 22275, 21968, 21540, 20929, 20196, 19388, 18558, },
	/* LAT:   0 */ {  16709, 16246, 15828, 15467, 15193, 15004, 14870, 14766, 14635, 14390, 14001, 13545, 13168, 13043, 13274, 13790, 14440, 15095, 15645, 15999, 16144, 16257, 16647, 17443, 18483, 19533, 20406, 20909, 20924, 20587, 20154, 19704, 19162, 18518, 17857, 17244, 16709, },
	/* LAT:  10 */ {  16075, 15916, 15810, 15786, 15901, 16127, 16391, 16639, 16797, 16741, 16401, 15844, 15235, 14793, 14691, 14910, 15314, 15797, 16286, 16698, 17008, 17318, 17761, 18354, 19030, 19717, 20301, 20637, 20636, 20325, 19782, 19077, 18284, 17501, 16834, 16355, 16075, },
	/* LAT:  20 */ {  16646, 16651, 16769, 17024, 17467, 18052, 18673, 19235, 19620, 19673, 19312, 18621, 17815, 17153, 16805, 16764, 16949, 17314, 17792, 18271, 18719, 19207, 19758, 20310, 20852, 21410, 21915, 22233, 22274, 21975, 21294, 20297, 19178, 18148, 17345, 16845, 16646, },
	/* LAT:  30 */ {  18228, 18246, 18499, 18974, 19663, 20492, 21343, 22099, 22622, 22748, 22391, 21636, 20725, 19942, 19448, 19240, 19272, 19535, 19972, 20459, 20944, 21469, 22043, 22621, 23212, 23843, 24442, 24863, 24979, 24683, 23906, 22723, 21375, 20127, 19146, 18509, 18228, },
	/* LAT:  40 */ {  20676, 20646, 20946, 21536, 22341, 23248, 24139, 24902, 25413, 25540, 25210, 24493, 23593, 22760, 22151, 21797, 21685, 21808, 22116, 22514, 22945, 23428, 23994, 24647, 25390, 26190, 26937, 27471, 27648, 27366, 26592, 25422, 24080, 22811, 21777, 21055, 20676, },
	/* LAT:  50 */ {  23666, 23604, 23853, 24373, 25076, 25849, 26582, 27177, 27543, 27595, 27293, 26682, 25899, 25111, 24452, 23986, 23733, 23688, 23818, 24072, 24419, 24870, 25458, 26196, 27058, 27963, 28774, 29341, 29541, 29310, 28661, 27703, 26610, 25560, 24679, 24034, 23666, },
	/* LAT:  60 */ {  26412, 26325, 26437, 26725, 27134, 27591, 28021, 28353, 28526, 28494, 28241, 27790, 27210, 26591, 26019, 25556, 25239, 25080, 25078, 25220, 25502, 25931, 26514, 27238, 28054, 28875, 29589, 30086, 30289, 30170, 29763, 29151, 28445, 27753, 27152, 26695, 26412, },
	/* LAT:  70 */ {  28043, 27928, 27897, 27941, 28041, 28167, 28287, 28365, 28373, 28290, 28109, 27838, 27503, 27138, 26783, 26476, 26246, 26115, 26096, 26197, 26421, 26765, 27216, 27749, 28322, 28878, 29357, 29708, 29894, 29907, 29765, 29506, 29180, 28835, 28513, 28242, 28043, }, // WARNING! black out zone
	/* LAT:  80 */ {  28358, 28267, 28189, 28125, 28073, 28026, 27978, 27923, 27855, 27770, 27667, 27549, 27422, 27295, 27178, 27083, 27020, 26998, 27024, 27101, 27228, 27402, 27612, 27847, 28089, 28323, 28530, 28696, 28813, 28875, 28884, 28848, 28776, 28680, 28572, 28462, 28358, }, // WARNING! black out zone
	/* LAT:  90 */ {  27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, 27848, }, // WARNING! black out zone
};
static constexpr float WMM_TOTALINTENSITY_SCALE_TO_NANOTESLA = 2.04182867f;
static constexpr float WMM_TOTALINTENSITY_MIN_NANOTESLA = 22227.9f; // latitude: -30, longitude: -60
static constexpr float WMM_TOTALINTENSITY_MAX_NANOTESLA = 66904.6f; // latitude: -60, longitude: 130


